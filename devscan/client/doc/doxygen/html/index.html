<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>devscan: DeviceScan Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">devscan
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DeviceScan Interface </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#section_introduction">Introduction</a></li>
<li class="level1"><a href="#section_usage">Usage</a><ul><li class="level2"><a href="#section_sequence">Sequence</a></li>
<li class="level2"><a href="#section_examples">Examples</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="section_introduction"></a>
Introduction</h1>
<p>The DeviceScan interface allows automatic discovery and monitoring reachability of devices connected to the network.</p>
<p>Protocols providing similar functionality are for example: </p>
<ul>
<li>
Apple Bonjour (former: Rendezvous): <a href="http://en.wikipedia.org/wiki/Bonjour_%28software%29">http://en.wikipedia.org/wiki/Bonjour_%28software%29</a> </li>
<li>
UPnP's Simple Service Discovery Protocol (SSDP): <a href="http://en.wikipedia.org/wiki/Simple_Service_Discovery_Protocol">http://en.wikipedia.org/wiki/Simple_Service_Discovery_Protocol</a> </li>
<li>
Avahi: <a href="http://avahi.org">http://avahi.org</a> </li>
</ul>
<h1><a class="anchor" id="section_usage"></a>
Usage</h1>
<p>The abstract interface of the DeviceScan library is defined in <a class="el" href="classhbm_1_1devscan_1_1ReceiverIf.html" title="The interface to use by HBM Scan Clients. ">hbm.devscan.ReceiverIf</a> The library provides an executable implementation of this interface in <a class="el" href="classhbm_1_1devscan_1_1Receiver.html" title="The main class for HBM Scan Clients. It receives announcements interprets them and notifies about new...">hbm.devscan.Receiver</a>. <br/>
 The user application should create an instance of the <a class="el" href="classhbm_1_1devscan_1_1Receiver.html" title="The main class for HBM Scan Clients. It receives announcements interprets them and notifies about new...">hbm.devscan.Receiver</a> class to make use of the provided DeviceScan code.</p>
<div class="image">
<img src="devscan_receiver.class.png" alt="devscan_receiver.class.png"/>
<div class="caption">
Documented interface and provided implementation</div></div>
<p> The <a class="el" href="classhbm_1_1devscan_1_1Receiver.html" title="The main class for HBM Scan Clients. It receives announcements interprets them and notifies about new...">hbm.devscan.Receiver</a> class provides methods to register application provided callback functions: </p>
<ul>
<li>
<a class="el" href="classhbm_1_1devscan_1_1ReceiverIf.html#a5a60ad57b4ea82746ef8d0f6d24ecc03" title="Sets the callback method to be called on arrival of new or change of an already known announcement...">hbm.devscan.ReceiverIf::setAnnounceCb()</a> </li>
<li>
<a class="el" href="classhbm_1_1devscan_1_1ReceiverIf.html#ad49bf8c704fd563fe847603630443351" title="Sets the callback method to be called on expiration of an announcement. ">hbm.devscan.ReceiverIf::setExpireCb()</a> </li>
<li>
<a class="el" href="classhbm_1_1devscan_1_1ReceiverIf.html#a0c79f2bc886803cc64f19ae9371edf23" title="Sets the callback method to be called on errors in the received network telegram. ...">hbm.devscan.ReceiverIf::setErrorCb()</a> </li>
</ul>
<p>It is not mandatory to register any callback function. Not making use of announcement and expire callback will limit the functionality of the application dramatically. Registering an error callback is explicitly optional, as it serves for debugging only. </p>
<p>The application provided callback functions need to match the following signatures: </p>
<ul>
<li>
<a class="el" href="namespacehbm_1_1devscan.html#ac64b6c78746a1ea8aec5da0608da2f73" title="Typedef for the user provided callback function which is called once a new device is discovered...">hbm.devscan.announceCb_t</a> </li>
<li>
<a class="el" href="namespacehbm_1_1devscan.html#a42c06f38b2002d1068d399e06bdf28ee" title="Typedef for the user provided callback function which is called once a previously discovered device d...">hbm.devscan.expireCb_t</a> </li>
<li>
<a class="el" href="namespacehbm_1_1devscan.html#a6f4766a47439e62a823c0c3045785bce" title="Typedef for the user provided callback function which is called on any incorrect data received via th...">hbm.devscan.errorCb_t</a> </li>
</ul>
<p>See the documentation of theses typedefs for information on the data passed to the user's application.</p>
<p>Execution time of the <a class="el" href="classhbm_1_1devscan_1_1Receiver.html" title="The main class for HBM Scan Clients. It receives announcements interprets them and notifies about new...">hbm.devscan.Receiver</a> can be controlled with the methods: </p>
<ul>
<li>
<a class="el" href="classhbm_1_1devscan_1_1ReceiverIf.html#a47e8914c3f56e2599193152353ed6bbe" title="Starts event loop that collects announcements messages from the network and calls callback functions...">hbm.devscan.ReceiverIf.start()</a> </li>
<li>
<a class="el" href="classhbm_1_1devscan_1_1ReceiverIf.html#a5d6027a75bd0a281dda858e9f6037032" title="Stops the event loop that was started with ReceiverIf.start. The start-call will return. ">hbm.devscan.ReceiverIf.stop()</a> </li>
</ul>
<p>Registration of callbacks can be done at any time, regardless of the running status of the <a class="el" href="classhbm_1_1devscan_1_1Receiver.html" title="The main class for HBM Scan Clients. It receives announcements interprets them and notifies about new...">hbm.devscan.Receiver</a> object.</p>
<h2><a class="anchor" id="section_sequence"></a>
Sequence</h2>
<div class="image">
<img src="devscan_client.sequence.png" alt="devscan_client.sequence.png"/>
<div class="caption">
Typical usage of the ReceiverIf</div></div>
 <h2><a class="anchor" id="section_examples"></a>
Examples</h2>
<p>scanclientnotifier main: </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="CMakeFiles_22_88_812_82_2CompilerIdC_2CMakeCCompilerId_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>(argc&gt;1) {</div>
<div class="line">        <span class="keywordflow">if</span>(std::string(argv[1])==<span class="stringliteral">&quot;-h&quot;</span>) {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Listens on incoming announces. Notifies about added, changed and removed announcements in a compact format.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;return format: &lt;family type&gt; &lt;uuid&gt; &lt;type&gt; &lt;name&gt; &lt;address&gt; &lt;netmask&gt; &lt;http port&gt; &lt;interface address&gt; &lt;interface netmask&gt;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="classhbm_1_1devscan_1_1Receiver.html">hbm::devscan::Receiver</a> receiver;</div>
<div class="line">    receiver.<a class="code" href="classhbm_1_1devscan_1_1Receiver.html#a5b9790215b11e249ea7461d688dfecdf">setAnnounceCb</a>(&amp;<a class="code" href="scanclientcompact_8cpp.html#abdc8d0780175614e70217a6d4c3dbbd3">announceCb</a>);</div>
<div class="line">    receiver.<a class="code" href="classhbm_1_1devscan_1_1Receiver.html#aacf01e158821ac6128099ce43f7b592a">setExpireCb</a>(&amp;<a class="code" href="scanclientnotifier_8cpp.html#ae857958c5292d32eccf125ac1fddef27">expireCb</a>);</div>
<div class="line">    receiver.<a class="code" href="classhbm_1_1devscan_1_1Receiver.html#ab8ed22c4ebd9b157c784024a6a8cc4b9">setErrorCb</a>(&amp;<a class="code" href="scanclientnotifier_8cpp.html#ae728f487fc685590922c8465f257b59e">errorCb</a>);</div>
<div class="line">    receiver.<a class="code" href="classhbm_1_1devscan_1_1Receiver.html#a014f2a26f00ed1d2019d77bf233626ea">start</a>();</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --></div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jan 21 2015 12:15:12 for devscan by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
